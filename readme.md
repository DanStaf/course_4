# course 4

Программа будет получать информацию о вакансиях с платформы hh.ru в России,
сохранять ее в файл и позволять удобно работать с ней:
добавлять, фильтровать, удалять.

### Как использовать

Программа предлагает два варианта работы, с загрузкой данных с сайта hh.ru и с загрузкой данных из файла.

Программа запрашивает параметры поиска (ключевые слова, количество вакансий, опыт работы, уровень зарплаты).

Программа выводит результат на экран.

Программа предлагает записать или дописать вакансии в файл.

Программа предлагает сделать новый запрос.

### Из чего состоит

Функция для взаимодействия с пользователем через консоль:
- ввести поисковый запрос для запроса вакансий из hh.ru;
- получить топ N вакансий по зарплате (N запрашивать у пользователя);
- получить вакансии с ключевым словом в описании.

Выходные данные
- Информация о вакансиях, полученная с разных платформ, сохраненная в JSON-файл.
- Отфильтрованные и отсортированные вакансии, выводимые пользователю через консоль.

Классы
- абстрактный класс для работы с API сервиса с вакансиями.
- класс, наследующийся от абстрактного класса, для работы с платформой hh.ru. (принцип наследования - описать новый класс на основе уже существующего)
    - уметь подключаться к API `https://github.com/hhru/api/blob/master/README.md#headhunter-api`.
    - получать вакансии.

- класс для работы с вакансиями (принцип инкапсуляции - данные и методы собраны в единый объект. Есть скрытые данные и методы)
    - атрибуты:
        - название вакансии, 
        - ссылка на вакансию, 
        - зарплата, 
        - краткое описание или требования и т. п. (всего не менее четырех атрибутов).
    - методы сравнения вакансий между собой по зарплате
    - валидировать данные, которыми инициализируются его атрибуты, например, проверка, указана или нет зарплата.
    
- абстрактный класс, который обязывает реализовать 
    - методы для добавления вакансий в файл,
    - получения данных из файла по указанным критериям
    - удаления информации о вакансиях
- класс для сохранения информации о вакансиях в JSON-файл.
- классы для работы с другими форматами, например с CSV- или Excel-файлом, с TXT-файлом.

Для всех классов: соответствие минимум первым двум требованиям принципов SOLID
1. Single Responsibility - принцип единой ответственности
2. Open/Closed — принцип открытости/закрытости.
+ `+` есть связь с инкапсуляцией - наличие закрытых данных и методов
+ `+` есть связь с полиморфизмом — возможность обработки разных типов данных, т. е. принадлежащих к разным классам, с помощью одной и той же функции или метода.
3. Liskov Substitution — принцип подстановки Барбары Лисков. (Объекты в программе должны быть заменяемыми на экземпляры их подтипов без изменения корректности программы.)
4. Interface Segregation — принцип разделения интерфейсов. (несколько более мелких интерфейсов, чтобы клиенты могли реализовать только те методы, которые им нужны.)
5. Dependency Inversion — принцип инверсии зависимостей. (Модули верхнего уровня не должны зависеть от модулей нижнего уровня. Оба типа модулей должны зависеть от абстракций.)

### Тесты

### Важные ссылки

    # установить poetry через Powershell
    # (Invoke-WebRequest -Uri https://install.python-poetry.org -UseBasicParsing).Content | py -
    # указать в Pycharm ссылку на poetry executable
    # ... User ... AppData/Local/pypoetry/...
    # poetry add requests (через терминал Pycharm)
    # poetry add -G dev pytest

    # !
    # [tool.poetry.scripts]
    # start-tests = 'tests.test_utils:main'
    # Команда _poetry run start-tests_ запустит main в файле _tests/test_utils.py_

    # корректная ссылка на описание API
    # https://github.com/hhru/api/blob/master/README.md#headhunter-api
    
    # запросить токен hh.ru
    # зайти на сайт https://dev.hh.ru/admin

    # авторизация
    # https://api.hh.ru/openapi/redoc#section/Avtorizaciya/Avtorizaciya-prilozheniya
    # POST https://api.hh.ru/token

    # использовать полученный access_token для авторизации, передавая его в заголовке в формате:
    # Authorization: Bearer ACCESS_TOKEN
    # GET https: // api.hh.ru / me

    # 'https://api.hh.ru/vacancies'
    # parameters = {'text': self.text,
                      'currency': 'RUR',
                      'order_by': 'salary_desc'
                      }
    # response = requests.get(url_get, params=parameters)
